(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t,n){e.exports=n(80)},50:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(21),o=n.n(c),l=n(6),i=n.n(l),s=n(8),u=n(4),m=n(9),d=n.n(m);function p(e){var t={__html:e.text};return r.a.createElement("div",{dangerouslySetInnerHTML:t,style:e.style})}function b(e){var t=e.data.children,n=e.setIsSpinning,c=Object(a.useState)(!1),o=Object(u.a)(c,2),l=o[0],i=o[1];function s(){l||n(!0),i(!l)}return Object(a.useEffect)(function(){n(!1)},[]),r.a.createElement(r.a.Fragment,null,t.map(function(e){var t=e.author,a=e.text,c=e.id;return e.author&&r.a.createElement("div",{key:c,style:{border:"1px dotted tan",marginLeft:5,paddingLeft:5,paddingBottom:10}},r.a.createElement(p,{text:a}),"by ",t,e.children.length>0?r.a.createElement("button",{style:{marginLeft:5},onClick:s},l?"-":"+"):null,l?r.a.createElement(b,{data:e,setIsSpinning:n}):null)}))}function f(e){var t=e.objectID,n=e.setIsSpinning,c=Object(a.useState)([]),o=Object(u.a)(c,2),l=o[0],m=o[1],p=Object(a.useState)(null),f=Object(u.a)(p,2),g=f[0],h=f[1],E=function(){var e=Object(s.a)(i.a.mark(function e(){var a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("https://hn.algolia.com/api/v1/items/".concat(t));case 3:a=e.sent,m(a.data),n(!1),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0),n(!1),h(e.t0);case 13:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)(function(){n(!0),E()},[t]),r.a.createElement(r.a.Fragment,null,l&&l.children&&l.children.map(function(e){return r.a.createElement(b,{key:e.id,data:l,setIsSpinning:n})}),g&&r.a.createElement("p",null,"Error loading comments: ",g.message))}n(50);var g=n(22),h=n.n(g);function E(e){var t=Object(a.useState)(!1),n=Object(u.a)(t,2),c=n[0],o=n[1],l=e.data,i=l.title,s=l.url,m=l.author,d=l.points,b=l.created_at,g=l.num_comments,E=l.objectID,v=l.story_text,y=h.a.utc(b,"YYYY-MM-DD[T]HH:mm:ss:[000]Z").utc().local().fromNow();return r.a.createElement("div",{className:"article"},r.a.createElement("h4",{style:{margin:0}},r.a.createElement("a",{href:s,target:"_blank",rel:"noopener noreferrer"},i)),v&&r.a.createElement(p,{text:v,style:{fontSize:"0.7rem"}}),r.a.createElement("h5",{style:{margin:0}},"Submitted by ",m," ",y,", ",d," points",r.a.createElement("br",null),"Comments: ",g,g>0&&r.a.createElement("button",{onClick:function(){return o(!c)},style:{marginLeft:10}},c?"-":"+"),c?r.a.createElement(f,{objectID:E,setIsSpinning:e.setIsSpinning}):null))}var v=n(23),y=50,j={display:"block",margin:"0 auto",borderColor:"red",position:"fixed",top:"50%",left:"50%",marginTop:-y/2,marginLeft:-y/2};var O=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)("react hooks"),l=Object(u.a)(o,2),m=l[0],p=l[1],b=Object(a.useState)(""),f=Object(u.a)(b,2),g=f[0],h=f[1],O=Object(a.useState)(!0),S=Object(u.a)(O,2),k=S[0],x=S[1],w=Object(a.useState)(!0),I=Object(u.a)(w,2),C=I[0],D=I[1],L=Object(a.useState)(null),_=Object(u.a)(L,2),H=_[0],N=_[1],R=Object(a.useRef)();function B(e){e.preventDefault(),p(g)}var T=function(){var e=Object(s.a)(i.a.mark(function e(){var t,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("https://hn.algolia.com/api/v1/search?query=".concat(m));case 3:t=e.sent,n=t.data.hits,c(n),document.title="HN ".concat(m),x(!1),D(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),N(e.t0),D(!1);case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)(function(){m&&(x(!0),D(!0),T())},[m]),r.a.createElement(r.a.Fragment,null,C&&r.a.createElement("div",{className:"sweet-loading"},r.a.createElement(v.ClipLoader,{css:j,sizeUnit:"px",size:y,color:"blue",loading:C})),r.a.createElement("div",{style:{padding:20}},r.a.createElement("h3",{style:{textAlign:"center",backgroundColor:"red",borderRadius:3,marginBottom:2,padding:10}},"Hacker News Search"),r.a.createElement("h5",{style:{textAlign:"center",marginTop:2}},"by Scott Ratigan"),r.a.createElement("form",{onSubmit:B},r.a.createElement("input",{style:{margin:10,borderRadius:3},type:"text",autoComplete:"off",value:g,onChange:function(e){return h(e.target.value)},ref:R}),r.a.createElement("button",{onClick:B},"Search"),r.a.createElement("button",{type:"button",onClick:function(e){h(""),R.current.focus()},style:{marginLeft:10}},"Clear")),r.a.createElement("h4",null,k?"Loading articles...":"Displaying articles for ".concat(m)),r.a.createElement("div",{style:{backgroundColor:"#eadcdf",borderRadius:5,border:"1px solid grey",boxShadow:"5px 10px #888888"}},n.map(function(e){return r.a.createElement(E,{key:e.objectID,data:e,setIsSpinning:D})}),H&&r.a.createElement("p",null,"Error loading articles: ",H.message)),r.a.createElement("h6",{style:{textAlign:"center"}},"Data supplied by"," ",r.a.createElement("a",{href:"https://news.ycombinator.com/",target:"_blank",rel:"noopener noreferrer"},"Hacker News"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[24,1,2]]]);
//# sourceMappingURL=main.1759a07f.chunk.js.map